# Style Library Interoperability

<p class="description">While you can use the emotion based styling solution provided by Material-UI to style your application, you can also use the one you already know and love (from plain CSS to styled-components).</p>

This guide aims to document the most popular alternatives,
but you should find that the principles applied here can be adapted to other libraries.
There are examples for the following styling solutions:

- [Plain CSS](#plain-css)
- [Global CSS](#global-css)
- [Styled Components](#styled-components)
- [CSS Modules](#css-modules)
- [Emotion](#emotion)

## Plain CSS

Nothing fancy, just plain CSS.

{{"demo": "pages/guides/interoperability/StyledComponents.js", "hideToolbar": true}}

[![Edit Button](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/plain-css-1k9wb)

**PlainCssSlider.css**

```css
.slider {
  color: #20b2aa;
}
.slider:hover {
  color: #2e8b57;
}
```

**PlainCssSlider.js**

```jsx
import * as React from 'react';
import Slider from '@material-ui/lab/SliderStyled';
import './PlainCssSlider.css';

export default function PlainCssSlider() {
  return (
    <div>
      <Slider defaultValue={30} />
      <Slider className="slider" defaultValue={30} />
    </div>
  );
}
```

### Controlling priority ⚠️

**Note:** Most CSS-in-JS solutions inject their styles at the bottom of the html `<head>`. If you don't want to mark style attributes with **!important**, you need to change the CSS injection order, as in the demo:

```jsx
import * as React from 'react';
import { CacheProvider } from '@emotion/core';
import createCache from '@emotion/cache';

const head = document.getElementsByTagName('head')[0];

const emotionContainer = head.insertBefore(
  document.createElement('STYLE'),
  head.firstChild,
);

const cache = createCache({
  container: emotionContainer,
});

export default function PlainCssPriority() {
  return (
    <CacheProvider value={cache}>
      {/* Your component tree. Now you can override Material-UI's styles. */}
    </CacheProvider>
  );
}
```

### Deeper elements

If you attempt to style the Slider,
you will likely need to affect some of the Slider's child elements, for example the thumb.
However, the thumb is not the root element of Slider and therefore customization as above will not work.
You need to use the `componentProps` API of Material-UI, in order to provide custom class names for the slots.

The following example overrides the `thumb` style of `Slider` in addition to the custom styles on the slider itself.

{{"demo": "pages/guides/interoperability/StyledComponentsDeep.js", "hideToolbar": true}}

**PlainCssSliderDeep.css**

```css
.slider {
  color: #20b2aa;
}
.slider:hover {
  color: #2e8b57;
}
.slider .thumb {
  border-radius: 1px;
}
```

**PlainCssSliderDeep.js**

```jsx
import * as React from 'react';
import Slider from '@material-ui/lab/SliderStyled';
import './PlainCssSliderDeep.css';

export default function PlainCssSliderDeep() {
  return (
    <div>
      <Slider defaultValue={30} />
      <Slider
        className="slider"
        defaultValue={30}
        componentsProps={{ thumb: { className: 'thumb' } }}
      />
    </div>
  );
}
```

## Global CSS

Explicitly providing the class names to the component is too much effort?
[You can target the class names generated by Material-UI](/styles/advanced/#with-material-ui-core).

[![Edit Button](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/global-classnames-mc4wl)

**GlobalCssSlider.css**

```css
.MuiSlider-root {
  color: #20b2aa;
}
.MuiSlider-root:hover {
  color: #2e8b57;
}
.MuiSlider-root .MuiSlider-thumb {
  border-radius: 1px;
}
```

**GlobalCssButton.js**

```jsx
import * as React from 'react';
import Slider from '@material-ui/lab/SliderStyled';
import './GlobalCssSlider.css';

export default function GlobalCssSlider() {
  return <Slider defaultValue={30} />;
}
```

## Styled Components

![stars](https://img.shields.io/github/stars/styled-components/styled-components.svg?style=social&label=Star)
![npm](https://img.shields.io/npm/dm/styled-components.svg?)

### Change the default styled engine

By default the Material-UI components, comes with emotion as their style engine. However,
if you would like to use `styled-components`, you can configure your app, by following this [example project](https://github.com/mui-org/material-ui/blob/next/examples/create-react-app-with-styled-components/README.md).

After the style engine is configured properly, you can use the `experimentalStyled()` utility
from `@material-ui/core/styles` and have direct access to the theme.

{{"demo": "pages/guides/interoperability/StyledComponents.js", "hideToolbar": true}}

[![Edit Button](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/styled-components-6bwu7)

```jsx
import * as React from 'react';
import Slider from '@material-ui/lab/SliderStyled';
import { experimentalStyled as styled } from '@material-ui/core/styles';

const CustomizedSlider = styled(Slider)`
  color: #20b2aa;
  :hover {
    color: #2e8b57;
  }
`;

export default function StyledComponents() {
  return <CustomizedSlider defaultValue={30} />;
}
```

### Deeper elements

If you attempt to style the Slider,
you will likely need to affect some of the Slider's child elements, for example the thumb.
However, the thumb is not the root element of Slider and therefore styled-components customization as above will not work.
You need to use the `componentProps` API of Material-UI, in order to provide custom classNames for the slots.

The following example overrides the `thumb` style of `Slider` in addition to the custom styles on the slider itself.

{{"demo": "pages/guides/interoperability/StyledComponentsDeep.js"}}

```jsx
import * as React from 'react';
import Slider from '@material-ui/lab/SliderStyled';
import { experimentalStyled as styled } from '@material-ui/core/styles';

const CustomizedSliderDeep = styled(Slider)`
  color: #20b2aa;
  :hover {
    color: #2e8b57;
  }
  & .MuiSlider-thumb {
    border-radius: 1px;
  }
`;

export default function App() {
  return (
    <div>
      <Slider defaultValue={30} />
      <CustomizedSliderDeep defaultValue={30} />
    </div>
  );
}
```

The above demo relies on the [default `className` values](/styles/advanced/#with-material-ui-core), but you can provide your own class name: `.thumb`.

```jsx
import * as React from 'react';
import { experimentalStyled as styled } from '@material-ui/core/styles';
import Slider from '@material-ui/lab/SliderStyled';

const StyledSlider = styled((props) => (
  <Slider componentsProps={{ thumb: { className: 'thumb' } }} {...props} />
))`
  color: #20b2aa;
  :hover {
    color: #2e8b57;
  }
  & .thumb {
    border-radius: 1px;
  }
`;

export default function StyledComponentsDeep() {
  return (
    <div>
      <Slider defaultValue={30}>Default</Slider>
      <StyledSlider defaultValue={30}>Customized</StyledSlider>
    </div>
  );
}
```

### Theme

Material-UI has a rich theme structure that you can take advantage of for
color manipulations, transitions, media queries, and more.

By using the Material-UI's Provider, the theme will be available for the
context as well (emotion or styled-components, depending on your configuraiton).

You are encouraged to share the same theme object between Material-UI and your styles.

```jsx
const CustomizedSlider = styled(Slider)`
  ${({ theme }) => `
  color: ${theme.palette.primary.main};
  :hover {
    color: ${darken(theme.palette.primary.main, 0.2)};
  }
  `}
`;
```

{{"demo": "pages/guides/interoperability/StyledComponentsTheme.js"}}

### Portals

The [Portal](/components/portal/) provides a first-class way to render children into a DOM node that exists outside the DOM hierarchy of the parent component.
Because of the way styled-components scopes its CSS, you may run into issues where styling is not applied.

For example, if you attempt to style the [Menu](/components/menus/) of a [Select](/components/selects/) component using the `MenuProps` prop,
you will need to pass along the `className` prop to the element being rendered outside of it's DOM hierarchy.
The following example shows a workaround:

```jsx
import * as React from 'react';
import styled from 'styled-components';
import Menu from '@material-ui/core/Menu';
import MenuItem from '@material-ui/core/MenuItem';

const StyledMenu = styled(({ className, ...props }) => (
  <Menu {...props} classes={{ paper: className }} />
))`
  box-shadow: none;
  border: 1px solid #d3d4d5;

  li {
    padding-top: 8px;
    padding-bottom: 8px;
  }
`;
```

{{"demo": "pages/guides/interoperability/StyledComponentsPortal.js"}}

## CSS Modules

![stars](https://img.shields.io/github/stars/css-modules/css-modules.svg?style=social&label=Star)

It's hard to know the market share of [this styling solution](https://github.com/css-modules/css-modules) as it's dependent on the
bundling solution people are using.

{{"demo": "pages/guides/interoperability/StyledComponents.js", "hideToolbar": true}}

[![Edit Button](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/css-modules-pkm9l)

**CssModulesSlider.module.css**

```css
.slider {
  color: #20b2aa;
}

.slider:hover {
  color: #2e8b57;
}
```

**CssModulesSlider.js**

```jsx
import React from 'react';
// webpack, parcel or else will inject the CSS into the page
import styles from './CssModulesSlider.module.css';
import Slider from '@material-ui/lab/SliderStyled';

export default function CssModulesSlider() {
  return (
    <div>
      <Slider defaultValue={30} />
      <Slider className={styles.slider} defaultValue={30} />
    </div>
  );
}
```

### Controlling priority ⚠️

**Note:** Most CSS-in-JS solutions inject their styles at the bottom of the HTML `<head>`. If you don't want to mark style attributes with **!important**, you need to change the CSS injection order, as in the demo:

```jsx
import * as React from 'react';
import { CacheProvider } from '@emotion/core';
import createCache from '@emotion/cache';

const head = document.getElementsByTagName('head')[0];

const emotionContainer = head.insertBefore(
  document.createElement('STYLE'),
  head.firstChild,
);

const cache = createCache({
  container: emotionContainer,
});

export default function App() {
  return (
    <CacheProvider value={cache}>
      {/* Your component tree. Now you can override Material-UI's styles. */}
    </CacheProvider>
  );
}
```

### Deeper elements

If you attempt to style the Slider,
you will likely need to affect some of the Slider's child elements, for example the thumb.
However, the thumb is not the root element of Slider and therefore customization as above will not work.
You need to use the `componentProps` API of Material-UI, in order to provide custom classNames for the slots.

The following example overrides the `thumb` style of `Slider` in addition to the custom styles on the slider itself.

{{"demo": "pages/guides/interoperability/StyledComponentsDeep.js", "hideToolbar": true}}

**CssModulesSliderDeep.module.css**

```css
.slider {
  color: #20b2aa;
}
.slider:hover {
  color: #2e8b57;
}
.slider .thumb {
  border-radius: 1px;
}
```

**CssModulesSliderDeep.js**

```jsx
import React from 'react';
// webpack, parcel or else will inject the CSS into the page
import styles from './CssModulesSliderDeep.module.css';
import Slider from '@material-ui/lab/SliderStyled';

export default function CssModulesSliderDeep() {
  return (
    <div>
      <Slider defaultValue={30} />
      <Slider
        className={styles.slider}
        componentsProps={{ thumb: { className: styles.thumb } }}
        defaultValue={30}
      />
    </div>
  );
}
```

## Emotion

![stars](https://img.shields.io/github/stars/emotion-js/emotion.svg?style=social&label=Star)
![npm](https://img.shields.io/npm/dm/emotion.svg?)

### The `css` prop

Emotion's **css()** method works seamlessly with Material-UI.

{{"demo": "pages/guides/interoperability/EmotionCSS.js", "hideToolbar": true}}

[![Edit Button](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/emotion-lvtcm)

```jsx
/** @jsx jsx */
import { jsx, css } from '@emotion/core';
import Slider from '@material-ui/lab/SliderStyled';

export default function EmotionCSS() {
  return (
    <div>
      <Slider defaultValue={30} />
      <Slider
        defaultValue={30}
        css={css`
          color: #20b2aa;
          :hover {
            color: #2e8b57;
          }
        `}
      />
    </div>
  );
}
```

### Theme

It works exactly like styled components. You can [use the same guide](/guides/interoperability/#styled-components).

### The `styled()` API

It works exactly like styled components. You can [use the same guide](/guides/interoperability/#styled-components).
