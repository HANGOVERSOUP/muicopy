# CSS variables

<p class="description">Learn about the experimental API for using CSS variables with Material UI components.</p>

[CSS variables](https://www.w3.org/TR/css-variables-1/) is a modern cross-browser feature that lets author declare a variable in CSS and reuse them in other properties in the document.

If you have no experience about the CSS variables, we recommend you to check out the [basic](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties) before reading our documentation.

## Introduction

CSS variables (sometimes referred to as custom properties or cascading variables) provide significant improvements in developer experience related to theming and customization.
With these variables, you can inject a theme into your app's stylesheet _at build time_ to apply the user's selected settings before the whole app is rendered.

<!-- Link to the blog post -->

## Advantages

- It lets you prevent the [dark-mode SSR flickering](https://github.com/mui/material-ui/issues/27651).
- You can create unlimited color schemes beyond `light` and `dark`.
- It offers a better debugging experience not only for developers but also designers in your team as well.
- The application mode is sync automatically between tabs, meaning if users change the mode in one tab, it will affect the site in other tabs as well.
- Integrating with third party is a lot easier because the theme tokens are delegated to CSS. For example, you can integrate and style non-React library by reusing the CSS variables generated by Material UI without the need of javascript at all.
- Reduce the need of a nested theme when you want to apply dark styles to a specific part of your application.

<!-- Checkout the blog post to see the demo -->

## Mental model

Adopting CSS variables require some mental model shift when it comes to theming and customization.

The conventional way of theming Material UI component entirely rely on javascript to switch the value when the mode changes:

```js
import { createTheme } from '@mui/material/styles';

createTheme({
  components: {
    MuiButton: {
      styleOverrides: {
        root: ({ theme }) => ({
          color: theme.palette.mode === 'dark' ? '#fff' : theme.palette.primary.main,
        }),
      },
    },
  },
});
```

However, with CSS variables, we recommend to override the styles via the attribute selector instead:

```js
// code is shorten from the above example
{
  color: theme.vars.palette.primary.main,
  '[data-mui-color-scheme="dark"] &': {
    color: '#fff',
  }
}
```

This pattern leans toward cascading in CSS which lets your application achieves perfect dark mode for your users.

Another side benefit is that it looks much cleaner if you want to support new color schemes beyond `light` and `dark`:

```js
// code is shorten from the above example
{
  color: theme.vars.palette.main,
  '[data-mui-color-scheme="dark"] &': {
    color: '#fff',
  },
  '[data-mui-color-scheme="paper"] &': {
    color: 'rgba(0 0 0 / 0.7)',
  },
  '[data-mui-color-scheme="fancy"] &': {
    color: '#ff5252',
  },
}
```

## What's next

- To start a new project with CSS variables, check out the [basic usage](/material-ui/experimental-api/css-variables/usage/).
- For an existing Material UI project, check out the [migration to CSS variables guide](/material-ui/experimental-api/css-variables/migration/)
- For theming and demos, check out the [customization guide](/material-ui/experimental-api/css-variables/customization/).
